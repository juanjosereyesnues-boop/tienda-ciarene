<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Carrito | CiarenÃ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        body { font-family: 'Outfit'; background: #fff5f7; padding: 40px 5%; }
        .cart-box { background: white; max-width: 500px; margin: auto; border-radius: 40px; padding: 40px; box-shadow: 0 30px 60px rgba(0,0,0,0.1); }
        .item { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #eee; }
        .btn-buy { width: 100%; padding: 20px; background: #25D366; color: white; border: none; border-radius: 50px; font-weight: 800; cursor: pointer; font-size: 1.2rem; margin-top: 30px; transition: 0.3s; }
        .btn-buy:hover { transform: scale(1.05); box-shadow: 0 10px 20px rgba(37,211,102,0.3); }
    </style>
</head>
<body>
    <div class="cart-box animate__animated animate__zoomIn">
        <h1 style="margin:0; color:#ff4d6d">Tu Pedido âœ¨</h1>
        <div id="lista" style="margin-top:20px;"></div>
        <div style="display:flex; justify-content:space-between; margin-top:30px; font-size:1.5rem; font-weight:800;">
            <span>Total:</span>
            <span id="total"></span>
        </div>
        <button class="btn-buy" onclick="enviar()">Pedir por WhatsApp ðŸŒ¸</button>
        <a href="/" style="display:block; text-align:center; margin-top:20px; color:#ccc; text-decoration:none;">Volver a la tienda</a>
    </div>

    <script>
        let cart = JSON.parse(localStorage.getItem('cart_ciarene')) || [];
        function render() {
            const l = document.getElementById('lista');
            let t = 0;
            l.innerHTML = cart.map((p, i) => {
                t += p.precio;
                return `<div class="item">
                    <div><b>${p.nombre}</b><br><small>${p.talla}</small></div>
                    <b>$${p.precio.toLocaleString()}</b>
                    <button onclick="borrar(${i})" style="border:none; background:none; color:red; cursor:pointer;">&times;</button>
                </div>`;
            }).join('');
            document.getElementById('total').innerText = `$${t.toLocaleString()}`;
        }
        function borrar(i) { cart.splice(i,1); localStorage.setItem('cart_ciarene', JSON.stringify(cart)); render(); }
        function enviar() {
            const msg = encodeURIComponent("Â¡Hola CiarenÃ©! Quiero estos productos:\n" + cart.map(p=>`- ${p.nombre} (${p.talla})`).join('\n') + `\nTotal: ${document.getElementById('total').innerText}`);
            window.location.href = `https://wa.me/573000000000?text=${msg}`; // CAMBIA EL NUMERO AQUI
        }
        render();
    </script>
</body>
</html>
